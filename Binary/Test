#!/usr/bin/env node

///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
'use strict'; /// Strict Syntax //////////////////////////////////////////////////////////////////////////////////////
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
require('../Prototype/Array'); /// Array Prototypes //////////////////////////////////////////////////////////////////
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
require('../Prototype/String'); /// String Prototypes ////////////////////////////////////////////////////////////////
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
const $utility = require('../Common/Utility'); /// Utility Module ////////////////////////////////////////////////////
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
const $publicSuffix = require('../Library/PublicSuffix'); /// PublicSuffix Module ////////////////////////////////////
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
(async () => { /// Main Event Loop /////////////////////////////////////////////////////////////////////////////////
///////////////////////////////////////////////////////////////////////////////////////////////////////////////////

	// Try to load the Public Suffx data
	try {
		// Load the public suffix data
		await $publicSuffix.parse(process.argv[2]);
		// Log the domain
		console.log('Domain\t=>\t', $publicSuffix.domain());
		// Log the host
		console.log('Host\t=>\t', $publicSuffix.host());
		// Log the TLD
		console.log('tld\t=>\t', $publicSuffix.tld());
		// We're done, kill the process
		process.exit(0);
	} catch ($error) {
		// Log the error
		console.error($error);
		// We're done, kill the process
		process.exit(1);
	}

///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
})(); /// End Main Event Loop ////////////////////////////////////////////////////////////////////////////////////////
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
